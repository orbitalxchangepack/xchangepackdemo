{"ast":null,"code":"import _regeneratorRuntime from\"/Users/CHLY/Downloads/xchangepack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/CHLY/Downloads/xchangepack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/CHLY/Downloads/xchangepack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Button from\"@material-ui/core/Button\";import{useHistory,useParams}from\"react-router-dom\";import axios from\"axios\";import List from\"@material-ui/core/List\";import ListItemText from\"@material-ui/core/ListItemText\";import ListItem from\"@material-ui/core/ListItem\";export default function ShowForum(){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),forum=_useState2[0],setForum=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),threads=_useState4[0],setThreads=_useState4[1];useEffect(function(){var getForum=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/forum/\"+id);case 2:response=_context.sent;setForum(response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getForum(){return _ref.apply(this,arguments);};}();getForum();var getThreads=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/api/thread/forum/\"+id);case 2:response=_context2.sent;setThreads(response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getThreads(){return _ref2.apply(this,arguments);};}();getThreads();},[]);return/*#__PURE__*/React.createElement(\"div\",{style:{padding:\"2rem\"}},forum&&/*#__PURE__*/React.createElement(\"h1\",null,forum.title),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(){return history.push(\"/thread/create/\"+id);}},\"Create Thread\"),/*#__PURE__*/React.createElement(List,null,threads.map(function(thread,index){return/*#__PURE__*/React.createElement(ListItem,{key:index,button:true,onClick:function onClick(){return history.push(\"/thread/\".concat(thread._id));}},/*#__PURE__*/React.createElement(ListItemText,{primary:thread.title,secondary:thread.createdAt}));})));}","map":{"version":3,"sources":["/Users/CHLY/Downloads/xchangepack/client/src/components/Ask/Pages/Forum/ShowForum.js"],"names":["React","useState","useEffect","Button","useHistory","useParams","axios","List","ListItemText","ListItem","ShowForum","history","id","forum","setForum","threads","setThreads","getForum","get","response","data","getThreads","padding","title","push","map","thread","index","_id","createdAt"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CAGA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAClC,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CADkC,eAEnBC,SAAS,EAFU,CAE1BO,EAF0B,YAE1BA,EAF0B,eAIRX,QAAQ,CAAC,IAAD,CAJA,wCAI3BY,KAJ2B,eAIpBC,QAJoB,8BAKJb,QAAQ,CAAC,EAAD,CALJ,yCAK3Bc,OAL2B,eAKlBC,UALkB,eAMlCd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,QAAQ,0FAAG,sKACQX,CAAAA,KAAK,CAACY,GAAN,CAAU,cAAgBN,EAA1B,CADR,QACTO,QADS,eAEfL,QAAQ,CAACK,QAAQ,CAACC,IAAV,CAAR,CAFe,sDAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAIAA,QAAQ,GACR,GAAMI,CAAAA,UAAU,2FAAG,4KACMf,CAAAA,KAAK,CAACY,GAAN,CAAU,qBAAuBN,EAAjC,CADN,QACXO,QADW,gBAEjBH,UAAU,CAACG,QAAQ,CAACC,IAAV,CAAV,CAFiB,wDAAH,kBAAVC,CAAAA,UAAU,2CAAhB,CAKAA,UAAU,GACX,CAZQ,CAYN,EAZM,CAAT,CAcA,mBACE,2BAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAZ,EACGT,KAAK,eAAI,8BAAKA,KAAK,CAACU,KAAX,CADZ,cAGE,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,OAAO,CAAE,yBAAMZ,CAAAA,OAAO,CAACa,IAAR,CAAa,kBAAoBZ,EAAjC,CAAN,EAHX,kBAHF,cAUE,oBAAC,IAAD,MACGG,OAAO,CAACU,GAAR,CAAY,SAACC,MAAD,CAASC,KAAT,qBACX,oBAAC,QAAD,EACE,GAAG,CAAEA,KADP,CAEE,MAAM,KAFR,CAGE,OAAO,CAAE,yBAAMhB,CAAAA,OAAO,CAACa,IAAR,mBAAwBE,MAAM,CAACE,GAA/B,EAAN,EAHX,eAKE,oBAAC,YAAD,EAAc,OAAO,CAAEF,MAAM,CAACH,KAA9B,CAAqC,SAAS,CAAEG,MAAM,CAACG,SAAvD,EALF,CADW,EAAZ,CADH,CAVF,CADF,CAwBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport List from \"@material-ui/core/List\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItem from \"@material-ui/core/ListItem\";\n\n\nexport default function ShowForum() {\n  const history = useHistory();\n  const { id } = useParams();\n\n  const [forum, setForum] = useState(null);\n  const [threads, setThreads] = useState([]);\n  useEffect(() => {\n    const getForum = async () => {\n      const response = await axios.get(\"/api/forum/\" + id);\n      setForum(response.data);\n    };\n    getForum();\n    const getThreads = async () => {\n      const response = await axios.get(\"/api/thread/forum/\" + id);\n      setThreads(response.data);\n    };\n\n    getThreads();\n  }, []);\n\n  return (\n    <div style={{ padding: \"2rem\" }}>\n      {forum && <h1>{forum.title}</h1>}\n\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => history.push(\"/thread/create/\" + id)}\n      >\n        Create Thread\n      </Button>\n      <List>\n        {threads.map((thread, index) => (\n          <ListItem\n            key={index}\n            button\n            onClick={() => history.push(`/thread/${thread._id}`)}\n          >\n            <ListItemText primary={thread.title} secondary={thread.createdAt} />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}